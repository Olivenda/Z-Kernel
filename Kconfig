# Top-level Kconfig for Z-Kernel styled after the classic Linux menuconfig layout

mainmenu "Linux Kernel Configuration"

menu "General setup"

config LOCALVERSION
    string "Local version - append to kernel release"
    default ""
    help
      Optional local suffix shown after the kernel release string.

config DEFAULT_HOSTNAME
    string "Default hostname"
    default "zkernel"
    help
      Hostname used by the kernel if no other hostname is provided.

config USE_GRUB
    bool "Build bootable ISO (GRUB-mkrescue)"
    default y
    help
      When enabled, the build produces a GRUB-mkrescue ISO image.

config ENABLE_BIN
    bool "Emit raw kernel binary"
    default y
    help
      Build a flat binary alongside the ELF image (useful for experimentation).

config GENERATE_MAP
    bool "Generate linker map file"
    default y
    help
      Ask the linker to emit a map file for inspecting symbol placement.

config BOOT_BANNER
    bool "Print boot banner"
    default y
    help
      Show a short boot banner before other log messages.

config LOG_MEMORY_MAP
    bool "Log usable memory map"
    default y
    help
      Walk the Stivale2 memory map and log usable ranges at boot.

config HEAP_DEMO
    bool "Allocate heap demo page"
    default y
    help
      Allocate and report a demo heap page from the bump allocator.

config LOG_ROOTFS
    bool "Log rootfs contents"
    default y
    help
      Initialize the bundled rootfs and print its entries at boot.

config CUSTOM_CFLAGS
    string "Additional compiler flags"
    default ""
    help
      Extra compiler flags appended to the base kernel CFLAGS.

config OPT_LEVEL
    string "Optimization level"
    default "O2"
    help
      Controls the compiler optimization level flag passed to GCC.

endmenu

config MODULES
    bool "Enable loadable module support"
    default n
    help
      Placeholder toggle mirroring the Linux menu entry. Modules are not
      currently implemented in this kernel.

config BLOCK
    bool "Enable the block layer"
    default y
    help
      Placeholder toggle for block device support, matching the menuconfig
      layout shown in classic Linux screenshots.

menu "Processor type and features"

config HELLO
    bool "Enable Hello World output"
    default y
    help
      Print a small hello message from the kernel entry point.

choice
    prompt "Hello language"
    default LANG_EN

config LANG_EN
    bool "English"

config LANG_DE
    bool "Deutsch"

endchoice

config ENABLE_PAGING
    bool "Enable Paging"
    default n
    help
      Enable paging support (placeholder toggle for future MMU work).

endmenu

menu "Power management and ACPI options"

config PM_STUB
    bool "Stub power management toggle"
    default n
    help
      Placeholder entry to mirror the ACPI menu presence in Linux
      menuconfig screenshots.

endmenu

menu "Bus options (PCI etc.)"

config PCI_STUB
    bool "Stub PCI support"
    default n
    help
      Placeholder entry to mirror bus-related options in the menu layout.

endmenu

menu "Executable file formats / Emulations"

config ELF_STUB
    bool "Support ELF executable loader"
    default y
    help
      Placeholder indicating the kernel boots ELF binaries; matches the
      menuconfig layout without altering build behavior.

endmenu

menu "Networking support"

config NET_STUB
    bool "Stub networking stack"
    default n
    help
      Placeholder entry to reproduce the networking menu from the Linux
      setup UI.

endmenu

menu "Device Drivers"

config ENABLE_SERIAL_DEBUG
    bool "Enable serial debug"
    default n
    help
      Initialize COM1 for debug logging alongside the VGA console.

config ENABLE_KEYBOARD_ECHO
    bool "Enable keyboard echo loop"
    default y
    help
      Initialize the keyboard driver and echo key presses to the console.

menu "Graphics support"

config FRAMEBUFFER_ENABLE
    bool "Enable framebuffer console"
    default y
    help
      Clear the bootloader-provided framebuffer and prepare it for drawing.

config FRAMEBUFFER_BG_COLOR
    string "Framebuffer background color (0xRRGGBB)"
    default "0x000000"
    help
      RGB color used to clear the framebuffer when enabled.

config FRAMEBUFFER_TEST_PATTERN
    bool "Draw framebuffer test pattern"
    default n
    help
      Render a simple diagnostic pattern into the framebuffer at boot.

config VGA_COLOR
    string "Default VGA text attribute (0xF0B0)"
    default "0x0700"
    help
      VGA text attribute word controlling foreground/background colors.

endmenu

endmenu

menu "File systems"

config FS_STUB
    bool "Stub filesystem support"
    default y
    help
      Placeholder entry keeping parity with the Linux menuconfig layout.

endmenu

menu "Kernel hacking"

config ENABLE_DEBUG
    bool "Enable debug symbols"
    default n
    help
      Appends -g to the compiler flags for easier debugging.

config DEBUG_LOG_ROOTFS
    bool "Verbose rootfs logging"
    default n
    help
      Increase verbosity of rootfs logging; placeholder for menu completeness.

endmenu

menu "Security options"

config SECURITY_STUB
    bool "Stub security options"
    default n
    help
      Placeholder entry mirroring the Linux security menu grouping.

endmenu

menu "Cryptographic API"

config CRYPTO_STUB
    bool "Stub cryptographic support"
    default n
    help
      Placeholder entry reproducing the presence of crypto options in the
      menu layout.

endmenu

menu "Virtualization"

config VIRT_STUB
    bool "Stub virtualization support"
    default n
    help
      Placeholder entry to mirror the virtualization menu seen in the Linux
      kernel setup interface.

endmenu
